{"ast":null,"code":"import { getFirestore, collection, getDocs, query, orderBy, limit, startAfter, doc, updateDoc, arrayUnion, arrayRemove, getDoc, deleteDoc } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\nexport default {\n  name: 'CommunityProjects',\n  data() {\n    return {\n      projects: [],\n      loading: true,\n      searchTerm: '',\n      sortBy: 'recent',\n      techInput: '',\n      selectedTech: [],\n      techSearchResults: [],\n      lastVisible: null,\n      hasMore: true,\n      pageSize: 12,\n      likedProjects: new Set(),\n      userProfiles: new Map(),\n      viewMode: 'grid',\n      // 'grid' or 'list'\n      showDeleteModal: false,\n      projectToDelete: null,\n      darkMode: false\n    };\n  },\n  computed: {\n    filteredProjects() {\n      let filtered = [...this.projects];\n      if (this.searchTerm) {\n        const term = this.searchTerm.toLowerCase();\n        filtered = filtered.filter(project => (project.name || '').toLowerCase().includes(term) || (project.description || '').toLowerCase().includes(term) || this.getOwnerDisplayName(project).toLowerCase().includes(term));\n      }\n      if (this.selectedTech.length > 0) {\n        filtered = filtered.filter(project => this.selectedTech.every(tech => (project.technologies || []).some(projectTech => projectTech.toLowerCase() === tech.toLowerCase())));\n      }\n      return this.sortProjects(filtered);\n    },\n    totalProjects() {\n      return this.projects.length;\n    },\n    activeProjects() {\n      return this.projects.filter(p => p.status === 'in-progress').length;\n    },\n    totalLikes() {\n      return this.projects.reduce((sum, project) => sum + this.getProjectLikes(project), 0);\n    },\n    totalComments() {\n      return this.projects.reduce((sum, project) => sum + this.getProjectComments(project), 0);\n    },\n    currentUser() {\n      const auth = getAuth();\n      return auth.currentUser;\n    }\n  },\n  methods: {\n    toggleDarkMode() {\n      this.darkMode = !this.darkMode;\n      if (this.darkMode) {\n        document.documentElement.classList.add('dark-theme');\n      } else {\n        document.documentElement.classList.remove('dark-theme');\n      }\n    },\n    goToDashboard() {\n      this.$router.push('/dash');\n    },\n    async loadProjects() {\n      try {\n        this.loading = true;\n        const db = getFirestore();\n        const projectsRef = collection(db, 'community_projects');\n        const q = query(projectsRef, orderBy('createdAt', 'desc'), limit(this.pageSize));\n        const snapshot = await getDocs(q);\n        const projectsData = [];\n        for (const doc of snapshot.docs) {\n          const projectData = {\n            id: doc.id,\n            ...doc.data()\n          };\n          if (projectData.ownerId) {\n            await this.fetchOwnerData(projectData.ownerId);\n          }\n          projectsData.push(projectData);\n        }\n        this.projects = projectsData;\n        this.lastVisible = snapshot.docs[snapshot.docs.length - 1];\n        this.hasMore = snapshot.docs.length >= this.pageSize;\n        if (this.currentUser) {\n          await this.loadLikedProjects();\n        }\n      } catch (error) {\n        console.error(\"Error loading projects:\", error);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async fetchOwnerData(ownerId) {\n      if (this.userProfiles.has(ownerId)) {\n        return;\n      }\n      try {\n        const db = getFirestore();\n        const userDoc = await getDoc(doc(db, 'users', ownerId));\n        if (userDoc.exists()) {\n          this.userProfiles.set(ownerId, userDoc.data());\n        } else {\n          this.userProfiles.set(ownerId, {\n            displayName: null,\n            profileImageUrl: null\n          });\n        }\n      } catch (error) {\n        console.error(\"Error fetching owner data:\", error);\n        this.userProfiles.set(ownerId, {\n          displayName: null,\n          profileImageUrl: null\n        });\n      }\n    },\n    getOwnerDisplayName(project) {\n      if (!project.ownerId) return 'Anonymous User';\n      const ownerProfile = this.userProfiles.get(project.ownerId);\n      if (ownerProfile && ownerProfile.name) {\n        return ownerProfile.name;\n      }\n      return 'User ' + project.ownerId.substring(0, 5);\n    },\n    getOwnerProfileImageUrl(project) {\n      if (!project.ownerId) return 'https://via.placeholder.com/40?text=Anonymous';\n      const ownerProfile = this.userProfiles.get(project.ownerId);\n      if (ownerProfile && ownerProfile.profileImageUrl) {\n        return ownerProfile.profileImageUrl;\n      }\n      const name = this.getOwnerDisplayName(project);\n      const initial = name.charAt(0).toUpperCase();\n      return `https://via.placeholder.com/40/3498db/ffffff?text=${initial}`;\n    },\n    async loadLikedProjects() {\n      if (!this.currentUser) return;\n      try {\n        const db = getFirestore();\n        const userRef = doc(db, 'users', this.currentUser.uid);\n        const userDoc = await getDoc(userRef);\n        if (userDoc.exists()) {\n          const userData = userDoc.data();\n          if (userData.likedProjects && Array.isArray(userData.likedProjects)) {\n            userData.likedProjects.forEach(projectId => {\n              this.likedProjects.add(projectId);\n            });\n          }\n        }\n      } catch (error) {\n        console.error(\"Error loading liked projects:\", error);\n      }\n    },\n    async loadMore() {\n      if (!this.hasMore) return;\n      try {\n        this.loading = true;\n        const db = getFirestore();\n        const projectsRef = collection(db, 'community_projects');\n        const q = query(projectsRef, orderBy('createdAt', 'desc'), startAfter(this.lastVisible), limit(this.pageSize));\n        const snapshot = await getDocs(q);\n        const newProjects = [];\n        for (const doc of snapshot.docs) {\n          const projectData = {\n            id: doc.id,\n            ...doc.data()\n          };\n          if (projectData.ownerId) {\n            await this.fetchOwnerData(projectData.ownerId);\n          }\n          newProjects.push(projectData);\n        }\n        this.projects = [...this.projects, ...newProjects];\n        this.lastVisible = snapshot.docs[snapshot.docs.length - 1];\n        this.hasMore = snapshot.docs.length >= this.pageSize;\n      } catch (error) {\n        console.error(\"Error loading more projects:\", error);\n      } finally {\n        this.loading = false;\n      }\n    },\n    sortProjects(projects) {\n      return [...projects].sort((a, b) => {\n        switch (this.sortBy) {\n          case 'recent':\n            return this.getTimestamp(b.createdAt) - this.getTimestamp(a.createdAt);\n          case 'popular':\n            return this.getProjectLikes(b) + this.getProjectComments(b) - (this.getProjectLikes(a) + this.getProjectComments(a));\n          case 'likes':\n            return this.getProjectLikes(b) - this.getProjectLikes(a);\n          case 'comments':\n            return this.getProjectComments(b) - this.getProjectComments(a);\n          default:\n            return this.getTimestamp(b.createdAt) - this.getTimestamp(a.createdAt);\n        }\n      });\n    },\n    getTimestamp(date) {\n      if (!date) return 0;\n      return date instanceof Date ? date.getTime() : date.toDate ? date.toDate().getTime() : new Date(date).getTime();\n    },\n    getProjectLikes(project) {\n      if (typeof project.likes === 'number') {\n        return project.likes;\n      } else if (project.likesBy && Array.isArray(project.likesBy)) {\n        return project.likesBy.length;\n      }\n      return 0;\n    },\n    getProjectComments(project) {\n      if (typeof project.comments === 'number') {\n        return project.comments;\n      } else if (project.comments && Array.isArray(project.comments)) {\n        return project.comments.length;\n      } else if (project.comments && typeof project.comments === 'object') {\n        return Object.keys(project.comments).length;\n      } else if (project.commentsCount && typeof project.commentsCount === 'number') {\n        return project.commentsCount;\n      }\n      return 0;\n    },\n    async toggleLike(project) {\n      if (!this.currentUser) {\n        alert('Please sign in to like projects');\n        return;\n      }\n      try {\n        const db = getFirestore();\n        const projectRef = doc(db, 'community_projects', project.id);\n        const userRef = doc(db, 'users', this.currentUser.uid);\n        if (this.isLiked(project)) {\n          await updateDoc(projectRef, {\n            likes: Math.max((project.likes || 0) - 1, 0),\n            likesBy: arrayRemove(this.currentUser.uid)\n          });\n          await updateDoc(userRef, {\n            likedProjects: arrayRemove(project.id)\n          });\n          this.likedProjects.delete(project.id);\n          const index = this.projects.findIndex(p => p.id === project.id);\n          if (index !== -1) {\n            if (typeof this.projects[index].likes === 'number') {\n              this.projects[index].likes = Math.max((this.projects[index].likes || 0) - 1, 0);\n            }\n            if (Array.isArray(this.projects[index].likesBy)) {\n              this.projects[index].likesBy = this.projects[index].likesBy.filter(id => id !== this.currentUser.uid);\n            }\n          }\n        } else {\n          await updateDoc(projectRef, {\n            likes: (project.likes || 0) + 1,\n            likesBy: arrayUnion(this.currentUser.uid)\n          });\n          await updateDoc(userRef, {\n            likedProjects: arrayUnion(project.id)\n          });\n          this.likedProjects.add(project.id);\n          const index = this.projects.findIndex(p => p.id === project.id);\n          if (index !== -1) {\n            if (typeof this.projects[index].likes === 'number') {\n              this.projects[index].likes = (this.projects[index].likes || 0) + 1;\n            } else {\n              this.projects[index].likes = 1;\n            }\n            if (!Array.isArray(this.projects[index].likesBy)) {\n              this.projects[index].likesBy = [];\n            }\n            this.projects[index].likesBy.push(this.currentUser.uid);\n          }\n        }\n      } catch (error) {\n        console.error(\"Error toggling like:\", error);\n      }\n    },\n    isLiked(project) {\n      if (!this.currentUser) return false;\n      if (this.likedProjects.has(project.id)) {\n        return true;\n      }\n      return Array.isArray(project.likesBy) && project.likesBy.includes(this.currentUser.uid);\n    },\n    isProjectOwner(project) {\n      if (!this.currentUser || !project.ownerId) return false;\n      return project.ownerId === this.currentUser.uid;\n    },\n    viewProject(project) {\n      this.$router.push(`/community/projects/${project.id}`);\n    },\n    confirmDeleteProject(project) {\n      this.projectToDelete = project;\n      this.showDeleteModal = true;\n    },\n    async deleteProject() {\n      if (!this.projectToDelete || !this.isProjectOwner(this.projectToDelete)) {\n        this.showDeleteModal = false;\n        return;\n      }\n      try {\n        const db = getFirestore();\n        await deleteDoc(doc(db, 'community_projects', this.projectToDelete.id));\n        this.projects = this.projects.filter(p => p.id !== this.projectToDelete.id);\n        this.totalProjects--;\n        if (this.projectToDelete.status === 'in-progress') {\n          this.activeProjects--;\n        }\n        this.totalLikes -= this.getProjectLikes(this.projectToDelete);\n        this.totalComments -= this.getProjectComments(this.projectToDelete);\n        this.showDeleteModal = false;\n        this.projectToDelete = null;\n      } catch (error) {\n        console.error(\"Error deleting project:\", error);\n        alert(\"Failed to delete project. Please try again.\");\n      }\n    },\n    formatDate(dateString) {\n      if (!dateString) return 'N/A';\n      try {\n        const date = dateString instanceof Date ? dateString : dateString.toDate ? dateString.toDate() : new Date(dateString);\n        if (isNaN(date.getTime())) {\n          return 'Invalid date';\n        }\n        return date.toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'short',\n          day: 'numeric'\n        });\n      } catch (error) {\n        console.error(\"Error formatting date:\", error);\n        return 'Unknown date';\n      }\n    },\n    formatStatus(status) {\n      const statusMap = {\n        'planning': 'Planning',\n        'in-progress': 'In Progress',\n        'completed': 'Completed',\n        'on-hold': 'On Hold'\n      };\n      return statusMap[status] || status || 'Unknown';\n    },\n    truncateDescription(description, length = 50) {\n      if (!description) return 'No description available';\n      return description.length > length ? description.substring(0, length) + '...' : description;\n    },\n    searchTechnologies() {\n      if (this.techInput.trim().length > 1) {\n        const term = this.techInput.toLowerCase();\n        const allTech = this.getAllTechnologies();\n        this.techSearchResults = allTech.filter(tech => tech.toLowerCase().includes(term) && !this.selectedTech.some(t => t.toLowerCase() === tech.toLowerCase())).slice(0, 5);\n      } else {\n        this.techSearchResults = [];\n      }\n    },\n    getAllTechnologies() {\n      const allTech = new Set();\n      this.projects.forEach(project => {\n        (project.technologies || []).forEach(tech => allTech.add(tech));\n      });\n      return Array.from(allTech).sort();\n    },\n    selectTechnology(tech) {\n      if (!this.selectedTech.some(t => t.toLowerCase() === tech.toLowerCase())) {\n        this.selectedTech.push(tech);\n      }\n      this.techInput = '';\n      this.techSearchResults = [];\n    },\n    addTech() {\n      if (this.techInput.trim() && !this.selectedTech.some(t => t.toLowerCase() === this.techInput.trim().toLowerCase())) {\n        this.selectedTech.push(this.techInput.trim());\n        this.techInput = '';\n        this.techSearchResults = [];\n      }\n    },\n    removeTech(index) {\n      this.selectedTech.splice(index, 1);\n    }\n  },\n  created() {\n    this.loadProjects();\n    // Check for saved theme preference\n    const savedTheme = localStorage.getItem('darkMode');\n    if (savedTheme !== null) {\n      this.darkMode = savedTheme === 'true';\n      if (this.darkMode) {\n        document.documentElement.classList.add('dark-theme');\n      }\n    } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      this.darkMode = true;\n      document.documentElement.classList.add('dark-theme');\n    }\n  },\n  watch: {\n    sortBy() {\n      // Re-sort the existing data\n    },\n    searchTerm() {\n      this.hasMore = true;\n      this.lastVisible = null;\n    },\n    selectedTech() {\n      this.hasMore = true;\n      this.lastVisible = null;\n    },\n    currentUser() {\n      if (this.currentUser) {\n        this.loadLikedProjects();\n      } else {\n        this.likedProjects.clear();\n      }\n    },\n    darkMode(newVal) {\n      localStorage.setItem('darkMode', newVal);\n    }\n  }\n};","map":{"version":3,"names":["getFirestore","collection","getDocs","query","orderBy","limit","startAfter","doc","updateDoc","arrayUnion","arrayRemove","getDoc","deleteDoc","getAuth","name","data","projects","loading","searchTerm","sortBy","techInput","selectedTech","techSearchResults","lastVisible","hasMore","pageSize","likedProjects","Set","userProfiles","Map","viewMode","showDeleteModal","projectToDelete","darkMode","computed","filteredProjects","filtered","term","toLowerCase","filter","project","includes","description","getOwnerDisplayName","length","every","tech","technologies","some","projectTech","sortProjects","totalProjects","activeProjects","p","status","totalLikes","reduce","sum","getProjectLikes","totalComments","getProjectComments","currentUser","auth","methods","toggleDarkMode","document","documentElement","classList","add","remove","goToDashboard","$router","push","loadProjects","db","projectsRef","q","snapshot","projectsData","docs","projectData","id","ownerId","fetchOwnerData","loadLikedProjects","error","console","has","userDoc","exists","set","displayName","profileImageUrl","ownerProfile","get","substring","getOwnerProfileImageUrl","initial","charAt","toUpperCase","userRef","uid","userData","Array","isArray","forEach","projectId","loadMore","newProjects","sort","a","b","getTimestamp","createdAt","date","Date","getTime","toDate","likes","likesBy","comments","Object","keys","commentsCount","toggleLike","alert","projectRef","isLiked","Math","max","delete","index","findIndex","isProjectOwner","viewProject","confirmDeleteProject","deleteProject","formatDate","dateString","isNaN","toLocaleDateString","year","month","day","formatStatus","statusMap","truncateDescription","searchTechnologies","trim","allTech","getAllTechnologies","t","slice","from","selectTechnology","addTech","removeTech","splice","created","savedTheme","localStorage","getItem","window","matchMedia","matches","watch","clear","newVal","setItem"],"sources":["/workspaces/JAVASCRIPT-S4/src/views/communityProjects.vue"],"sourcesContent":["<template>\r\n  <div class=\"community-projects\" :class=\"{ 'dark-mode': darkMode }\">\r\n    <div class=\"header-section\">\r\n      <div class=\"header-content\">\r\n        <div class=\"logo\">\r\n          <img src=\"/logoDev.jpg\" alt=\"Logo\" />\r\n          <h1>&nbsp;&nbsp;&nbsp;&nbsp;Community Projects</h1>\r\n          <br><br><br><br>\r\n          <router-link to=\"/dash\" class=\"return-to-dash\">\r\n            <br><br><br><br> ‚Üê Return to Main Dashboard\r\n          </router-link>\r\n        </div>\r\n        <div class=\"header-stats\">\r\n          <div class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ totalProjects }}</div>\r\n            <div class=\"stat-label\">Total Projects</div>\r\n          </div>\r\n          <div class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ activeProjects }}</div>\r\n            <div class=\"stat-label\">Active</div>\r\n          </div>\r\n          <div class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ totalLikes }}</div>\r\n            <div class=\"stat-label\">Likes</div>\r\n          </div>\r\n          <div class=\"stat-card\">\r\n            <div class=\"stat-value\">{{ totalComments }}</div>\r\n            <div class=\"stat-label\">Comments</div>\r\n          </div>\r\n          <button @click=\"toggleDarkMode\" class=\"theme-toggle-btn\">\r\n            <svg v-if=\"darkMode\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z\"/>\r\n            </svg>\r\n            <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"projects-container\">\r\n      <div class=\"filters-container\">\r\n        <div class=\"search-container\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"searchTerm\"\r\n            placeholder=\"Search projects...\"\r\n          />\r\n          <svg class=\"search-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"/>\r\n          </svg>\r\n        </div>\r\n        \r\n        <div class=\"filter-group\">\r\n          <label>Sort by:</label>\r\n          <select v-model=\"sortBy\">\r\n            <option value=\"recent\">Most Recent</option>\r\n            <option value=\"popular\">Most Popular</option>\r\n            <option value=\"likes\">Most Likes</option>\r\n            <option value=\"comments\">Most Comments</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div class=\"filter-group\">\r\n          <label>Technologies:</label>\r\n          <div class=\"tags-input\">\r\n            <span \r\n              v-for=\"(tech, index) in selectedTech\" \r\n              :key=\"index\" \r\n              class=\"tag\"\r\n            >\r\n              {{ tech }}\r\n              <span @click=\"removeTech(index)\" class=\"remove-tag\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n                </svg>\r\n              </span>\r\n            </span>\r\n            <input \r\n              type=\"text\" \r\n              v-model=\"techInput\" \r\n              @keydown.enter.prevent=\"addTech\"\r\n              @input=\"searchTechnologies\"\r\n              placeholder=\"Filter by technology\"\r\n            />\r\n            <div v-if=\"techSearchResults.length > 0\" class=\"search-results\">\r\n              <div \r\n                v-for=\"tech in techSearchResults\" \r\n                :key=\"tech\"\r\n                @click=\"selectTechnology(tech)\"\r\n                class=\"search-result-item\"\r\n              >\r\n                {{ tech }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"view-toggle\">\r\n          <button \r\n            @click=\"viewMode = 'grid'\" \r\n            :class=\"{ active: viewMode === 'grid' }\"\r\n            class=\"view-toggle-btn\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z\"/>\r\n            </svg>\r\n          </button>\r\n          <button \r\n            @click=\"viewMode = 'list'\" \r\n            :class=\"{ active: viewMode === 'list' }\"\r\n            class=\"view-toggle-btn\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n              <path fill-rule=\"evenodd\" d=\"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Grid View -->\r\n      <div v-if=\"viewMode === 'grid'\" class=\"projects-grid\">\r\n        <div \r\n          v-for=\"project in filteredProjects\" \r\n          :key=\"project.id\"\r\n          class=\"project-card\"\r\n          :class=\"project.status\"\r\n        >\r\n          <div class=\"card-header\">\r\n            <div class=\"project-image-wrapper-card\">\r\n              <img \r\n                :src=\"project.imageUrl || 'https://via.placeholder.com/400x200?text=Project+Image'\" \r\n                alt=\"Project image\"\r\n                class=\"project-image\"\r\n              />\r\n            </div>\r\n            <div class=\"project-status-badge\">\r\n              {{ formatStatus(project.status) }}\r\n            </div>\r\n            <div v-if=\"isProjectOwner(project)\" class=\"project-actions\">\r\n              <button @click.stop=\"confirmDeleteProject(project)\" class=\"delete-btn\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n                  <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"card-body\">\r\n            <div class=\"owner-info\">\r\n              <img \r\n                :src=\"getOwnerProfileImageUrl(project)\" \r\n                class=\"owner-avatar\"\r\n                alt=\"Owner avatar\"\r\n              />\r\n              <span class=\"owner-name\">{{ getOwnerDisplayName(project) }}</span>\r\n            </div>\r\n            \r\n            <h3 class=\"project-name\">{{ project.name || 'Untitled Project' }}</h3>\r\n            <p class=\"project-description\">{{ truncateDescription(project.description, 100) }}</p>\r\n            \r\n            <div class=\"project-tech\">\r\n              <div class=\"tech-tags\">\r\n                <span \r\n                  v-for=\"(tech, index) in (project.technologies || []).slice(0, 3)\" \r\n                  :key=\"index\" \r\n                  class=\"tech-tag\"\r\n                >\r\n                  {{ tech }}\r\n                </span>\r\n                <span v-if=\"(project.technologies || []).length > 3\" class=\"tech-more\">\r\n                  +{{ (project.technologies || []).length - 3 }} more\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"project-stats\">\r\n              <div class=\"stat-item\">\r\n                <svg class=\"stat-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                  <path fill-rule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\r\n                </svg>\r\n                <span class=\"stat-value\">{{ getProjectLikes(project) }}</span>\r\n              </div>\r\n              <div class=\"stat-item\">\r\n                <svg class=\"stat-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n                </svg>\r\n                <span class=\"stat-value\">{{ getProjectComments(project) }}</span>\r\n              </div>\r\n              <div class=\"stat-item\">\r\n                <svg class=\"stat-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\"/>\r\n                  <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z\"/>\r\n                </svg>\r\n                <span class=\"stat-value\">{{ formatDate(project.createdAt) }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"card-footer\">\r\n            <button \r\n              @click=\"toggleLike(project)\"\r\n              class=\"action-btn like-btn\"\r\n              :class=\"{ liked: isLiked(project) }\"\r\n            >\r\n              <svg v-if=\"isLiked(project)\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\r\n              </svg>\r\n              <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"/>\r\n              </svg>\r\n              {{ isLiked(project) ? 'Liked' : 'Like' }}\r\n            </button>\r\n            <button @click=\"viewProject(project)\" class=\"action-btn view-btn\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\"/>\r\n                <path d=\"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z\"/>\r\n              </svg>\r\n              View Details\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- List View -->\r\n      <div v-if=\"viewMode === 'list'\" class=\"projects-list\">\r\n        <div class=\"list-header\">\r\n          <div class=\"list-column\">Project</div>\r\n          <div class=\"list-column\">Owner</div>\r\n          <div class=\"list-column\">Technologies</div>\r\n          <div class=\"list-column\">Status</div>\r\n          <div class=\"list-column\">Stats</div>\r\n          <div class=\"list-column\">Actions</div>\r\n        </div>\r\n        <div \r\n          v-for=\"project in filteredProjects\" \r\n          :key=\"project.id\"\r\n          class=\"list-item\"\r\n        >\r\n          <div class=\"list-cell project-info\">\r\n            <div class=\"project-image-wrapper\">\r\n              <img \r\n                :src=\"project.imageUrl || 'https://via.placeholder.com/80x45?text=Project+Image'\" \r\n                alt=\"Project image\"\r\n                class=\"project-image\"\r\n              />\r\n            </div>\r\n            <div class=\"project-details\">\r\n              <h3 class=\"project-name\">{{ project.name || 'Untitled Project' }}</h3>\r\n              <p class=\"project-description\">{{ truncateDescription(project.description, 60) }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"list-cell owner-info\">\r\n            <img \r\n              :src=\"getOwnerProfileImageUrl(project)\" \r\n              class=\"owner-avatar\"\r\n              alt=\"Owner avatar\"\r\n            />\r\n            <span class=\"owner-name\">{{ getOwnerDisplayName(project) }}</span>\r\n          </div>\r\n          <div class=\"list-cell technologies\">\r\n            <div class=\"tech-tags\">\r\n              <span \r\n                v-for=\"(tech, index) in (project.technologies || []).slice(0, 2)\" \r\n                :key=\"index\" \r\n                class=\"tech-tag\"\r\n              >\r\n                {{ tech }}\r\n              </span>\r\n              <span v-if=\"(project.technologies || []).length > 2\" class=\"tech-more\">\r\n                +{{ (project.technologies || []).length - 2 }} more\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"list-cell status\">\r\n            <span class=\"status-badge\" :class=\"project.status\">{{ formatStatus(project.status) }}</span>\r\n          </div>\r\n          <div class=\"list-cell stats\">\r\n            <div class=\"stat-item\">\r\n              <svg class=\"stat-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\r\n              </svg>\r\n              <span>{{ getProjectLikes(project) }}</span>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <svg class=\"stat-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n              </svg>\r\n              <span>{{ getProjectComments(project) }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"list-cell actions\">\r\n            <button \r\n              @click=\"toggleLike(project)\"\r\n              class=\"action-btn like-btn\"\r\n              :class=\"{ liked: isLiked(project) }\"\r\n            >\r\n              <svg v-if=\"isLiked(project)\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\r\n              </svg>\r\n              <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"/>\r\n              </svg>\r\n            </button>\r\n            <button @click=\"viewProject(project)\" class=\"action-btn view-btn\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\"/>\r\n                <path d=\"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z\"/>\r\n              </svg>\r\n            </button>\r\n            <button \r\n              v-if=\"isProjectOwner(project)\"\r\n              @click=\"confirmDeleteProject(project)\"\r\n              class=\"action-btn delete-btn\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n                <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div v-if=\"loading\" class=\"loading-container\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <span>Loading projects...</span>\r\n      </div>\r\n      \r\n      <div v-if=\"!loading && filteredProjects.length === 0\" class=\"empty-state\">\r\n        <div class=\"empty-icon\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1zm0 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5zm0 7a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1z\"/>\r\n          </svg>\r\n        </div>\r\n        <h3>No projects found</h3>\r\n        <p>{{ searchTerm || selectedTech.length ? 'Try different filters' : 'Be the first to share a project!' }}</p>\r\n      </div>\r\n      \r\n      <div v-if=\"hasMore\" class=\"load-more\">\r\n        <button @click=\"loadMore\" class=\"btn primary-btn\">\r\n          Load More Projects\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Delete Confirmation Modal -->\r\n      <div v-if=\"showDeleteModal\" class=\"modal-overlay\">\r\n        <div class=\"modal-content\">\r\n          <h3>Delete Project</h3>\r\n          <p>Are you sure you want to delete \"{{ projectToDelete?.name || 'this project' }}\"? This action cannot be undone.</p>\r\n          <div class=\"modal-actions\">\r\n            <button @click=\"showDeleteModal = false\" class=\"btn cancel-btn\">Cancel</button>\r\n            <button @click=\"deleteProject\" class=\"btn delete-confirm-btn\">Delete</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getFirestore, collection, getDocs, query, orderBy, limit, startAfter, doc, updateDoc, arrayUnion, arrayRemove, getDoc, deleteDoc } from 'firebase/firestore';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nexport default {\r\n  name: 'CommunityProjects',\r\n  data() {\r\n    return {\r\n      projects: [],\r\n      loading: true,\r\n      searchTerm: '',\r\n      sortBy: 'recent',\r\n      techInput: '',\r\n      selectedTech: [],\r\n      techSearchResults: [],\r\n      lastVisible: null,\r\n      hasMore: true,\r\n      pageSize: 12,\r\n      likedProjects: new Set(),\r\n      userProfiles: new Map(),\r\n      viewMode: 'grid', // 'grid' or 'list'\r\n      showDeleteModal: false,\r\n      projectToDelete: null,\r\n      darkMode: false\r\n    };\r\n  },\r\n  computed: {\r\n    filteredProjects() {\r\n      let filtered = [...this.projects];\r\n      \r\n      if (this.searchTerm) {\r\n        const term = this.searchTerm.toLowerCase();\r\n        filtered = filtered.filter(project => \r\n          (project.name || '').toLowerCase().includes(term) ||\r\n          (project.description || '').toLowerCase().includes(term) ||\r\n          (this.getOwnerDisplayName(project)).toLowerCase().includes(term)\r\n        );\r\n      }\r\n      \r\n      if (this.selectedTech.length > 0) {\r\n        filtered = filtered.filter(project => \r\n          this.selectedTech.every(tech => \r\n            (project.technologies || []).some(\r\n              projectTech => projectTech.toLowerCase() === tech.toLowerCase()\r\n            )\r\n          )\r\n        );\r\n      }\r\n      \r\n      return this.sortProjects(filtered);\r\n    },\r\n    totalProjects() {\r\n      return this.projects.length;\r\n    },\r\n    activeProjects() {\r\n      return this.projects.filter(p => p.status === 'in-progress').length;\r\n    },\r\n    totalLikes() {\r\n      return this.projects.reduce((sum, project) => sum + this.getProjectLikes(project), 0);\r\n    },\r\n    totalComments() {\r\n      return this.projects.reduce((sum, project) => sum + this.getProjectComments(project), 0);\r\n    },\r\n    currentUser() {\r\n      const auth = getAuth();\r\n      return auth.currentUser;\r\n    }\r\n  },\r\n  methods: {\r\n    toggleDarkMode() {\r\n      this.darkMode = !this.darkMode;\r\n      if (this.darkMode) {\r\n        document.documentElement.classList.add('dark-theme');\r\n      } else {\r\n        document.documentElement.classList.remove('dark-theme');\r\n      }\r\n    },\r\n    goToDashboard() {\r\n      this.$router.push('/dash');\r\n    },\r\n    async loadProjects() {\r\n      try {\r\n        this.loading = true;\r\n        const db = getFirestore();\r\n        const projectsRef = collection(db, 'community_projects');\r\n        const q = query(\r\n          projectsRef,\r\n          orderBy('createdAt', 'desc'),\r\n          limit(this.pageSize)\r\n        );\r\n        \r\n        const snapshot = await getDocs(q);\r\n        \r\n        const projectsData = [];\r\n        for (const doc of snapshot.docs) {\r\n          const projectData = {\r\n            id: doc.id,\r\n            ...doc.data()\r\n          };\r\n          \r\n          if (projectData.ownerId) {\r\n            await this.fetchOwnerData(projectData.ownerId);\r\n          }\r\n          \r\n          projectsData.push(projectData);\r\n        }\r\n        \r\n        this.projects = projectsData;\r\n        this.lastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n        this.hasMore = snapshot.docs.length >= this.pageSize;\r\n        \r\n        if (this.currentUser) {\r\n          await this.loadLikedProjects();\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error(\"Error loading projects:\", error);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    async fetchOwnerData(ownerId) {\r\n      if (this.userProfiles.has(ownerId)) {\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        const db = getFirestore();\r\n        const userDoc = await getDoc(doc(db, 'users', ownerId));\r\n        if (userDoc.exists()) {\r\n          this.userProfiles.set(ownerId, userDoc.data());\r\n        } else {\r\n          this.userProfiles.set(ownerId, { displayName: null, profileImageUrl: null });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching owner data:\", error);\r\n        this.userProfiles.set(ownerId, { displayName: null, profileImageUrl: null });\r\n      }\r\n    },\r\n    \r\n    getOwnerDisplayName(project) {\r\n      if (!project.ownerId) return 'Anonymous User';\r\n      \r\n      const ownerProfile = this.userProfiles.get(project.ownerId);\r\n      if (ownerProfile && ownerProfile.name) {\r\n        return ownerProfile.name;\r\n      }\r\n      \r\n      return 'User ' + project.ownerId.substring(0, 5);\r\n    },\r\n    \r\n    getOwnerProfileImageUrl(project) {\r\n      if (!project.ownerId) return 'https://via.placeholder.com/40?text=Anonymous';\r\n      \r\n      const ownerProfile = this.userProfiles.get(project.ownerId);\r\n      if (ownerProfile && ownerProfile.profileImageUrl) {\r\n        return ownerProfile.profileImageUrl;\r\n      }\r\n      \r\n      const name = this.getOwnerDisplayName(project);\r\n      const initial = name.charAt(0).toUpperCase();\r\n      return `https://via.placeholder.com/40/3498db/ffffff?text=${initial}`;\r\n    },\r\n    \r\n    async loadLikedProjects() {\r\n      if (!this.currentUser) return;\r\n      \r\n      try {\r\n        const db = getFirestore();\r\n        const userRef = doc(db, 'users', this.currentUser.uid);\r\n        const userDoc = await getDoc(userRef);\r\n        \r\n        if (userDoc.exists()) {\r\n          const userData = userDoc.data();\r\n          if (userData.likedProjects && Array.isArray(userData.likedProjects)) {\r\n            userData.likedProjects.forEach(projectId => {\r\n              this.likedProjects.add(projectId);\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error loading liked projects:\", error);\r\n      }\r\n    },\r\n    \r\n    async loadMore() {\r\n      if (!this.hasMore) return;\r\n      \r\n      try {\r\n        this.loading = true;\r\n        const db = getFirestore();\r\n        const projectsRef = collection(db, 'community_projects');\r\n        const q = query(\r\n          projectsRef,\r\n          orderBy('createdAt', 'desc'),\r\n          startAfter(this.lastVisible),\r\n          limit(this.pageSize)\r\n        );\r\n        \r\n        const snapshot = await getDocs(q);\r\n        \r\n        const newProjects = [];\r\n        for (const doc of snapshot.docs) {\r\n          const projectData = {\r\n            id: doc.id,\r\n            ...doc.data()\r\n          };\r\n          \r\n          if (projectData.ownerId) {\r\n            await this.fetchOwnerData(projectData.ownerId);\r\n          }\r\n          \r\n          newProjects.push(projectData);\r\n        }\r\n        \r\n        this.projects = [...this.projects, ...newProjects];\r\n        this.lastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n        this.hasMore = snapshot.docs.length >= this.pageSize;\r\n      } catch (error) {\r\n        console.error(\"Error loading more projects:\", error);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    sortProjects(projects) {\r\n      return [...projects].sort((a, b) => {\r\n        switch (this.sortBy) {\r\n          case 'recent': \r\n            return this.getTimestamp(b.createdAt) - this.getTimestamp(a.createdAt);\r\n          case 'popular': \r\n            return (this.getProjectLikes(b) + this.getProjectComments(b)) - \r\n                   (this.getProjectLikes(a) + this.getProjectComments(a));\r\n          case 'likes': \r\n            return this.getProjectLikes(b) - this.getProjectLikes(a);\r\n          case 'comments': \r\n            return this.getProjectComments(b) - this.getProjectComments(a);\r\n          default: \r\n            return this.getTimestamp(b.createdAt) - this.getTimestamp(a.createdAt);\r\n        }\r\n      });\r\n    },\r\n    \r\n    getTimestamp(date) {\r\n      if (!date) return 0;\r\n      return date instanceof Date ? date.getTime() : \r\n             date.toDate ? date.toDate().getTime() : \r\n             new Date(date).getTime();\r\n    },\r\n    \r\n    getProjectLikes(project) {\r\n      if (typeof project.likes === 'number') {\r\n        return project.likes;\r\n      } else if (project.likesBy && Array.isArray(project.likesBy)) {\r\n        return project.likesBy.length;\r\n      }\r\n      return 0;\r\n    },\r\n    \r\n    getProjectComments(project) {\r\n      if (typeof project.comments === 'number') {\r\n        return project.comments;\r\n      } else if (project.comments && Array.isArray(project.comments)) {\r\n        return project.comments.length;\r\n      } else if (project.comments && typeof project.comments === 'object') {\r\n        return Object.keys(project.comments).length;\r\n      } else if (project.commentsCount && typeof project.commentsCount === 'number') {\r\n        return project.commentsCount;\r\n      }\r\n      return 0;\r\n    },\r\n    \r\n    async toggleLike(project) {\r\n      if (!this.currentUser) {\r\n        alert('Please sign in to like projects');\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        const db = getFirestore();\r\n        const projectRef = doc(db, 'community_projects', project.id);\r\n        const userRef = doc(db, 'users', this.currentUser.uid);\r\n        \r\n        if (this.isLiked(project)) {\r\n          await updateDoc(projectRef, {\r\n            likes: Math.max((project.likes || 0) - 1, 0),\r\n            likesBy: arrayRemove(this.currentUser.uid)\r\n          });\r\n          \r\n          await updateDoc(userRef, {\r\n            likedProjects: arrayRemove(project.id)\r\n          });\r\n          \r\n          this.likedProjects.delete(project.id);\r\n          \r\n          const index = this.projects.findIndex(p => p.id === project.id);\r\n          if (index !== -1) {\r\n            if (typeof this.projects[index].likes === 'number') {\r\n              this.projects[index].likes = Math.max((this.projects[index].likes || 0) - 1, 0);\r\n            }\r\n            if (Array.isArray(this.projects[index].likesBy)) {\r\n              this.projects[index].likesBy = this.projects[index].likesBy.filter(id => id !== this.currentUser.uid);\r\n            }\r\n          }\r\n        } else {\r\n          await updateDoc(projectRef, {\r\n            likes: (project.likes || 0) + 1,\r\n            likesBy: arrayUnion(this.currentUser.uid)\r\n          });\r\n          \r\n          await updateDoc(userRef, {\r\n            likedProjects: arrayUnion(project.id)\r\n          });\r\n          \r\n          this.likedProjects.add(project.id);\r\n          \r\n          const index = this.projects.findIndex(p => p.id === project.id);\r\n          if (index !== -1) {\r\n            if (typeof this.projects[index].likes === 'number') {\r\n              this.projects[index].likes = (this.projects[index].likes || 0) + 1;\r\n            } else {\r\n              this.projects[index].likes = 1;\r\n            }\r\n            if (!Array.isArray(this.projects[index].likesBy)) {\r\n              this.projects[index].likesBy = [];\r\n            }\r\n            this.projects[index].likesBy.push(this.currentUser.uid);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error toggling like:\", error);\r\n      }\r\n    },\r\n    \r\n    isLiked(project) {\r\n      if (!this.currentUser) return false;\r\n      \r\n      if (this.likedProjects.has(project.id)) {\r\n        return true;\r\n      }\r\n      \r\n      return Array.isArray(project.likesBy) && \r\n             project.likesBy.includes(this.currentUser.uid);\r\n    },\r\n    \r\n    isProjectOwner(project) {\r\n      if (!this.currentUser || !project.ownerId) return false;\r\n      return project.ownerId === this.currentUser.uid;\r\n    },\r\n    \r\n    viewProject(project) {\r\n      this.$router.push(`/community/projects/${project.id}`);\r\n    },\r\n    \r\n    confirmDeleteProject(project) {\r\n      this.projectToDelete = project;\r\n      this.showDeleteModal = true;\r\n    },\r\n    \r\n    async deleteProject() {\r\n      if (!this.projectToDelete || !this.isProjectOwner(this.projectToDelete)) {\r\n        this.showDeleteModal = false;\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        const db = getFirestore();\r\n        await deleteDoc(doc(db, 'community_projects', this.projectToDelete.id));\r\n        \r\n        this.projects = this.projects.filter(p => p.id !== this.projectToDelete.id);\r\n        this.totalProjects--;\r\n        if (this.projectToDelete.status === 'in-progress') {\r\n          this.activeProjects--;\r\n        }\r\n        this.totalLikes -= this.getProjectLikes(this.projectToDelete);\r\n        this.totalComments -= this.getProjectComments(this.projectToDelete);\r\n        \r\n        this.showDeleteModal = false;\r\n        this.projectToDelete = null;\r\n      } catch (error) {\r\n        console.error(\"Error deleting project:\", error);\r\n        alert(\"Failed to delete project. Please try again.\");\r\n      }\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      if (!dateString) return 'N/A';\r\n      \r\n      try {\r\n        const date = dateString instanceof Date ? dateString : \r\n                    dateString.toDate ? dateString.toDate() : \r\n                    new Date(dateString);\r\n                    \r\n        if (isNaN(date.getTime())) {\r\n          return 'Invalid date';\r\n        }\r\n        \r\n        return date.toLocaleDateString('en-US', { \r\n          year: 'numeric', \r\n          month: 'short', \r\n          day: 'numeric' \r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error formatting date:\", error);\r\n        return 'Unknown date';\r\n      }\r\n    },\r\n    \r\n    formatStatus(status) {\r\n      const statusMap = {\r\n        'planning': 'Planning',\r\n        'in-progress': 'In Progress',\r\n        'completed': 'Completed',\r\n        'on-hold': 'On Hold'\r\n      };\r\n      return statusMap[status] || status || 'Unknown';\r\n    },\r\n    \r\n    truncateDescription(description, length = 50) {\r\n      if (!description) return 'No description available';\r\n      return description.length > length \r\n        ? description.substring(0, length) + '...' \r\n        : description;\r\n    },\r\n    \r\n    searchTechnologies() {\r\n      if (this.techInput.trim().length > 1) {\r\n        const term = this.techInput.toLowerCase();\r\n        const allTech = this.getAllTechnologies();\r\n        this.techSearchResults = allTech\r\n          .filter(tech => \r\n            tech.toLowerCase().includes(term) &&\r\n            !this.selectedTech.some(t => t.toLowerCase() === tech.toLowerCase())\r\n          )\r\n          .slice(0, 5);\r\n      } else {\r\n        this.techSearchResults = [];\r\n      }\r\n    },\r\n    \r\n    getAllTechnologies() {\r\n      const allTech = new Set();\r\n      this.projects.forEach(project => {\r\n        (project.technologies || []).forEach(tech => allTech.add(tech));\r\n      });\r\n      return Array.from(allTech).sort();\r\n    },\r\n    \r\n    selectTechnology(tech) {\r\n      if (!this.selectedTech.some(t => t.toLowerCase() === tech.toLowerCase())) {\r\n        this.selectedTech.push(tech);\r\n      }\r\n      this.techInput = '';\r\n      this.techSearchResults = [];\r\n    },\r\n    \r\n    addTech() {\r\n      if (this.techInput.trim() && !this.selectedTech.some(t => t.toLowerCase() === this.techInput.trim().toLowerCase())) {\r\n        this.selectedTech.push(this.techInput.trim());\r\n        this.techInput = '';\r\n        this.techSearchResults = [];\r\n      }\r\n    },\r\n    \r\n    removeTech(index) {\r\n      this.selectedTech.splice(index, 1);\r\n    }\r\n  },\r\n  created() {\r\n    this.loadProjects();\r\n    // Check for saved theme preference\r\n    const savedTheme = localStorage.getItem('darkMode');\r\n    if (savedTheme !== null) {\r\n      this.darkMode = savedTheme === 'true';\r\n      if (this.darkMode) {\r\n        document.documentElement.classList.add('dark-theme');\r\n      }\r\n    } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n      this.darkMode = true;\r\n      document.documentElement.classList.add('dark-theme');\r\n    }\r\n  },\r\n  watch: {\r\n    sortBy() {\r\n      // Re-sort the existing data\r\n    },\r\n    searchTerm() {\r\n      this.hasMore = true;\r\n      this.lastVisible = null;\r\n    },\r\n    selectedTech() {\r\n      this.hasMore = true;\r\n      this.lastVisible = null;\r\n    },\r\n    currentUser() {\r\n      if (this.currentUser) {\r\n        this.loadLikedProjects();\r\n      } else {\r\n        this.likedProjects.clear();\r\n      }\r\n    },\r\n    darkMode(newVal) {\r\n      localStorage.setItem('darkMode', newVal);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Base styles */\r\n.community-projects {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n  transition: background-color 0.3s, color 0.3s;\r\n}\r\n\r\n/* Light mode styles */\r\n.header-section {\r\n  background: linear-gradient(135deg, #1976d2, #2196f3);\r\n  color: white;\r\n  padding: 2rem 0;\r\n  margin-bottom: 2rem;\r\n  border-radius: 0 0 12px 12px;\r\n  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.2);\r\n}\r\n\r\n.header-content {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 2rem;\r\n}\r\n\r\n.logo {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.logo img {\r\n  height: 150px;\r\n  width: 150px;\r\n}\r\n\r\n.logo h1 {\r\n  margin: 0;\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: white;\r\n}\r\n\r\n.header-stats {\r\n  display: flex;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.stat-card {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  padding: 1rem 1.5rem;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  min-width: 120px;\r\n  backdrop-filter: blur(5px);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.stat-card:hover {\r\n  transform: translateY(-3px);\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.stat-value {\r\n  font-size: 1.8rem;\r\n  font-weight: 700;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 0.9rem;\r\n  opacity: 0.9;\r\n}\r\n\r\n.return-to-dash {\r\n  font-size: 0.9rem;\r\n  color: rgba(255, 255, 255, 0.8);\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  text-align:left;\r\n  margin-top: 0.25rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.theme-toggle-btn {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  color: white;\r\n}\r\n\r\n.theme-toggle-btn:hover {\r\n  background: rgba(255, 255, 255, 0.25);\r\n}\r\n\r\n/* Filters */\r\n.filters-container {\r\n  background: white;\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  margin-bottom: 2rem;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1.5rem;\r\n  align-items: flex-end;\r\n  transition: background-color 0.3s, border-color 0.3s;\r\n}\r\n\r\n.search-container {\r\n  position: relative;\r\n  flex: 1;\r\n  width: 100%;\r\n}\r\n\r\n.search-container input {\r\n  width: 85%;\r\n  padding: 0.75rem 1rem 0.75rem 2.5rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.search-container input:focus {\r\n  outline: none;\r\n  border-color: #1976d2;\r\n  box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.2);\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 1rem;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #a0aec0;\r\n  width: 16px;\r\n  height: 16px;\r\n  pointer-events: none;\r\n}\r\n\r\n.filter-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  min-width: 200px;\r\n}\r\n\r\n.filter-group label {\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.filter-group select {\r\n  padding: 0.75rem 1rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.filter-group select:focus {\r\n  outline: none;\r\n  border-color: #1976d2;\r\n  box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.2);\r\n}\r\n\r\n.tags-input {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  min-height: 44px;\r\n  position: relative;\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.tag {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 50px;\r\n  font-size: 0.85rem;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.remove-tag {\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  margin-left: 0.25rem;\r\n}\r\n\r\n.remove-tag svg {\r\n  width: 12px;\r\n  height: 12px;\r\n}\r\n\r\n.tags-input input {\r\n  flex: 1;\r\n  min-width: 120px;\r\n  border: none;\r\n  outline: none;\r\n  padding: 0.5rem;\r\n  background: transparent;\r\n}\r\n\r\n.search-results {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background: white;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 0 0 8px 8px;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.search-result-item {\r\n  padding: 0.75rem 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.search-result-item:hover {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.view-toggle {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  margin-left: auto;\r\n}\r\n\r\n.view-toggle-btn {\r\n  background: #f8fafc;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 6px;\r\n  padding: 0.5rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.view-toggle-btn:hover {\r\n  background: #e2e8f0;\r\n}\r\n\r\n.view-toggle-btn.active {\r\n  background: #1976d2;\r\n  color: white;\r\n  border-color: #1976d2;\r\n}\r\n\r\n.view-toggle-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n/* Projects Grid */\r\n.projects-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.project-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\n\r\n.project-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n  border-color: #1976d2;\r\n}\r\n\r\n.project-card.planning {\r\n  border-top: 4px solid #f39c12;\r\n}\r\n\r\n.project-card.in-progress {\r\n  border-top: 4px solid #3498db;\r\n}\r\n\r\n.project-card.completed {\r\n  border-top: 4px solid #2ecc71;\r\n}\r\n\r\n.project-card.on-hold {\r\n  border-top: 4px solid #95a5a6;\r\n}\r\n\r\n.card-header {\r\n  position: relative;\r\n  height: 200px;\r\n  overflow: hidden;\r\n  border-radius: 12px 12px 0 0;\r\n}\r\n\r\n.project-image-wrapper-card {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.project-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.project-card:hover .project-image {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.project-status-badge {\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  z-index: 2;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 50px;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.project-card.planning .project-status-badge {\r\n  color: #d35400;\r\n}\r\n\r\n.project-card.in-progress .project-status-badge {\r\n  color: #2980b9;\r\n}\r\n\r\n.project-card.completed .project-status-badge {\r\n  color: #27ae60;\r\n}\r\n\r\n.project-card.on-hold .project-status-badge {\r\n  color: #7f8c8d;\r\n}\r\n\r\n.project-actions {\r\n  position: absolute;\r\n  top: 1rem;\r\n  left: 1rem;\r\n  z-index: 2;\r\n}\r\n\r\n.delete-btn {\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.2s ease;\r\n  color: #e74c3c;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background: #e74c3c;\r\n  color: white;\r\n}\r\n\r\n.delete-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.card-body {\r\n  padding: 1.5rem;\r\n  flex: 1;\r\n}\r\n\r\n.owner-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.owner-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.owner-name {\r\n  font-weight: 500;\r\n  color: #4a5568;\r\n}\r\n\r\n.project-name {\r\n  margin: 0 0 0.75rem;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.project-description {\r\n  margin: 0 0 1.5rem;\r\n  color: #4a5568;\r\n  font-size: 0.95rem;\r\n  line-height: 1.5;\r\n}\r\n\r\n.project-tech {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.tech-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.tech-tag {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 50px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.tech-more {\r\n  font-size: 0.8rem;\r\n  color: #718096;\r\n}\r\n\r\n.project-stats {\r\n  display: flex;\r\n  gap: 1.5rem;\r\n  margin-top: auto;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.stat-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #718096;\r\n}\r\n\r\n.card-footer {\r\n  padding: 1rem 1.5rem;\r\n  border-top: 1px solid #e2e8f0;\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  padding: 0.75rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.action-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.action-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.like-btn {\r\n  background-color: #f0fdf4;\r\n  color: #16a34a;\r\n}\r\n\r\n.like-btn.liked {\r\n  background-color: #dcfce7;\r\n  color: #166534;\r\n}\r\n\r\n.like-btn:hover {\r\n  background-color: #dcfce7;\r\n}\r\n\r\n.view-btn {\r\n  background-color: #e0f2fe;\r\n  color: #0369a1;\r\n}\r\n\r\n.view-btn:hover {\r\n  background-color: #bae6fd;\r\n}\r\n\r\n/* Projects List View */\r\n.projects-list {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.list-header {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 1rem 1.5rem;\r\n  background-color: #f8fafc;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n}\r\n\r\n.list-item {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 1rem 1.5rem;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.list-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.list-item:hover {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.list-cell {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.project-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.project-image-wrapper {\r\n  width: 80px;\r\n  height: 45px;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n\r\n.project-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.project-details {\r\n  flex: 1;\r\n}\r\n\r\n.project-name {\r\n  margin: 0 0 0.25rem;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.project-description {\r\n  margin: 0;\r\n  color: #718096;\r\n  font-size: 0.85rem;\r\n  line-height: 1.4;\r\n}\r\n\r\n.owner-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.owner-avatar {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.owner-name {\r\n  font-size: 0.9rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.technologies {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.tech-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.tech-tag {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.75rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.tech-more {\r\n  font-size: 0.75rem;\r\n  color: #718096;\r\n}\r\n\r\n.status {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.status-badge {\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 50px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-badge.planning {\r\n  background-color: #fef3e6;\r\n  color: #d35400;\r\n}\r\n\r\n.status-badge.in-progress {\r\n  background-color: #e1f0fe;\r\n  color: #2980b9;\r\n}\r\n\r\n.status-badge.completed {\r\n  background-color: #e6f7ed;\r\n  color: #27ae60;\r\n}\r\n\r\n.status-badge.on-hold {\r\n  background-color: #f0f2f3;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.stats {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.stat-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #718096;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.actions .action-btn {\r\n  width: 36px;\r\n  height: 36px;\r\n  padding: 0;\r\n  border-radius: 50%;\r\n}\r\n\r\n/* Loading State */\r\n.loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 3rem;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px solid #e2e8f0;\r\n  border-top-color: #1976d2;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.loading-container span {\r\n  color: #4a5568;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Empty State */\r\n.empty-state {\r\n  background: white;\r\n  padding: 3rem 2rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 3rem;\r\n  margin-bottom: 1rem;\r\n  opacity: 0.7;\r\n  color: #1976d2;\r\n}\r\n\r\n.empty-state h3 {\r\n  margin: 0 0 0.5rem;\r\n  color: #2c3e50;\r\n}\r\n\r\n.empty-state p {\r\n  margin: 0 0 1.5rem;\r\n  color: #718096;\r\n}\r\n\r\n/* Load More */\r\n.load-more {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.btn {\r\n  padding: 0.75rem 1.5rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.primary-btn {\r\n  background: linear-gradient(135deg, #1976d2, #2196f3);\r\n  color: white;\r\n}\r\n\r\n.primary-btn:hover {\r\n  background: linear-gradient(135deg, #1565c0, #1976d2);\r\n}\r\n\r\n/* Modal */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 2rem;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.modal-content h3 {\r\n  margin-top: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.modal-content p {\r\n  margin: 1rem 0 2rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n}\r\n\r\n.cancel-btn {\r\n  background: #f1f5f9;\r\n  color: #4a5568;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background: #e2e8f0;\r\n}\r\n\r\n.delete-confirm-btn {\r\n  background: #e74c3c;\r\n  color: white;\r\n}\r\n\r\n.delete-confirm-btn:hover {\r\n  background: #c0392b;\r\n}\r\n\r\n/* Dark mode styles */\r\n.community-projects.dark-mode {\r\n  background-color: #1a202c;\r\n  color: #e2e8f0;\r\n}\r\n\r\n.dark-mode .header-section {\r\n  background: linear-gradient(135deg, #0d47a1, #1565c0);\r\n}\r\n.dark-mode {\r\n  background-color:rgb(7, 19, 44);\r\n  color: #e2e8f0;\r\n}\r\n\r\n.dark-mode .projects-form,\r\n.dark-mode .projects-visualization,\r\n.dark-mode .projects-display-container,\r\n.dark-mode .projects-list,\r\n.dark-mode .projects-cards,\r\n.dark-mode .projects-table {\r\n  background-color:rgb(16, 36, 71);\r\n  color: #e2e8f0;\r\n  border-color:rgb(18, 42, 84);\r\n}\r\n\r\n.dark-mode .form-group input,\r\n.dark-mode .form-group select,\r\n.dark-mode .form-group textarea {\r\n  background-color:rgb(15, 32, 51);\r\n  color: #e2e8f0;\r\n  border-color:rgb(200, 209, 225);\r\n}\r\n\r\n.dark-mode .tags-input {\r\n  background-color:rgb(44, 60, 91);\r\n  border-color:rgb(210, 219, 234);\r\n}\r\n\r\n.dark-mode .tag {\r\n  background-color:rgb(28, 45, 67);\r\n  color:rgb(194, 201, 205);\r\n}\r\n\r\n/* Add more dark mode styles as needed */\r\n.dark-mode .time-range-selector select {\r\n  background-color: #334155;\r\n  border-color:rgb(154, 163, 176);\r\n  color: #e5e7eb;\r\n}\r\n\r\n.theme-toggle-container {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 20px;\r\n}\r\n\r\n.theme-toggle {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 12px;\r\n  background-color:rgb(23, 34, 57);\r\n  border: none;\r\n  border-radius: 5px;\r\n  color:rgb(178, 188, 208);\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.dark-mode .theme-toggle {\r\n  background-color:rgb(39, 56, 79);\r\n  color:rgb(213, 218, 228);\r\n}\r\n\r\n.theme-toggle:hover {\r\n  background-color:rgb(14, 30, 54);\r\n}\r\n\r\n.dark-mode .theme-toggle:hover {\r\n  background-color: #475569;\r\n}\r\n/* Dark Mode Styles for Project Cards */\r\n.dark-mode .project-card {\r\n  background-color: #0f172a; /* Dark blue background */\r\n  border-color: #1e293b; /* Slightly lighter border */\r\n  color: #e2e8f0; /* Light text color */\r\n}\r\n\r\n.dark-mode .project-card:hover {\r\n  background-color: #1e293b; /* Slightly lighter dark blue on hover */\r\n  border-color: #334155; /* Highlighted border on hover */\r\n}\r\n\r\n.dark-mode .project-image {\r\n  filter: brightness(0.8); /* Slightly dim the image in dark mode */\r\n}\r\n\r\n.dark-mode .project-card .project-status-badge {\r\n  background-color: rgba(255, 255, 255, 0.1); /* Transparent badge background */\r\n  color: #e2e8f0; /* Light text color for the badge */\r\n}\r\n\r\n.dark-mode .project-card .project-name {\r\n  color: #e2e8f0; /* Light text color for project names */\r\n}\r\n\r\n.dark-mode .project-card .project-description {\r\n  color: #94a3b8; /* Muted light text color for descriptions */\r\n}\r\n\r\n.dark-mode .project-card .tech-tag {\r\n  background-color: #1e293b; /* Dark blue for technology tags */\r\n  color: #cbd5e1; /* Light text color for tags */\r\n}\r\n\r\n.dark-mode .project-card .tech-more {\r\n  color: #94a3b8; /* Muted light text color for \"more\" tags */\r\n}\r\n\r\n\r\n\r\n\r\n.community-projects {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n}\r\n\r\n.header-section {\r\n  background: linear-gradient(135deg, #1976d2, #2196f3);\r\n  color: white;\r\n  padding: 2rem 0;\r\n  margin-bottom: 2rem;\r\n  border-radius: 0 0 12px 12px;\r\n  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.2);\r\n}\r\n\r\n.header-content {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 2rem;\r\n}\r\n\r\n.logo {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.logo img {\r\n  height: 150px;\r\n  width: 150px;\r\n  \r\n}\r\n\r\n.logo h1 {\r\n  margin: 0;\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: white;\r\n}\r\n\r\n.header-stats {\r\n  display: flex;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.stat-card {\r\n  background: rgba(255, 255, 255, 0.15);\r\n  padding: 1rem 1.5rem;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  min-width: 120px;\r\n  backdrop-filter: blur(5px);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.stat-card:hover {\r\n  transform: translateY(-3px);\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.stat-value {\r\n  font-size: 1.8rem;\r\n  font-weight: 700;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 0.9rem;\r\n  opacity: 0.9;\r\n}\r\n.return-to-dash {\r\n  font-size: 0.9rem;\r\n  color: rgba(255, 255, 255, 0.8);\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  text-align:left;\r\n  margin-top: 0.25rem;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* Filters */\r\n.filters-container {\r\n  background: white;\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  margin-bottom: 2rem;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1.5rem;\r\n  align-items: flex-end;\r\n}\r\n\r\n.search-container {\r\n  position: relative;\r\n  flex: 1;\r\n  width: 100%;\r\n}\r\n\r\n.search-container input {\r\n  width: 85%;\r\n  padding: 0.75rem 1rem 0.75rem 2.5rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.search-container input:focus {\r\n  outline: none;\r\n  border-color: #1976d2;\r\n  box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.2);\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 1rem;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #a0aec0;\r\n  width: 16px;\r\n  height: 16px;\r\n  pointer-events: none;\r\n}\r\n\r\n.filter-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  min-width: 200px;\r\n}\r\n\r\n.filter-group label {\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.filter-group select {\r\n  padding: 0.75rem 1rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.filter-group select:focus {\r\n  outline: none;\r\n  border-color: #1976d2;\r\n  box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.2);\r\n}\r\n\r\n.tags-input {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  min-height: 44px;\r\n  position: relative;\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.tag {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 50px;\r\n  font-size: 0.85rem;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.remove-tag {\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  margin-left: 0.25rem;\r\n}\r\n\r\n.remove-tag svg {\r\n  width: 12px;\r\n  height: 12px;\r\n}\r\n\r\n.tags-input input {\r\n  flex: 1;\r\n  min-width: 120px;\r\n  border: none;\r\n  outline: none;\r\n  padding: 0.5rem;\r\n  background: transparent;\r\n}\r\n\r\n.search-results {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background: white;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 0 0 8px 8px;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.search-result-item {\r\n  padding: 0.75rem 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.search-result-item:hover {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.view-toggle {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  margin-left: auto;\r\n}\r\n\r\n.view-toggle-btn {\r\n  background: #f8fafc;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 6px;\r\n  padding: 0.5rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.view-toggle-btn:hover {\r\n  background: #e2e8f0;\r\n}\r\n\r\n.view-toggle-btn.active {\r\n  background: #1976d2;\r\n  color: white;\r\n  border-color: #1976d2;\r\n}\r\n\r\n.view-toggle-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n/* Projects Grid */\r\n.projects-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.project-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\n\r\n.project-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n  border-color: #1976d2;\r\n}\r\n\r\n.project-card.planning {\r\n  border-top: 4px solid #f39c12;\r\n}\r\n\r\n.project-card.in-progress {\r\n  border-top: 4px solid #3498db;\r\n}\r\n\r\n.project-card.completed {\r\n  border-top: 4px solid #2ecc71;\r\n}\r\n\r\n.project-card.on-hold {\r\n  border-top: 4px solid #95a5a6;\r\n}\r\n\r\n.card-header {\r\n  position: relative;\r\n  height: 200px; /* Fixed height for consistency */\r\n  overflow: hidden; /* Hide any overflow */\r\n  border-radius: 12px 12px 0 0; /* Match card's top corners */\r\n\r\n}\r\n\r\n.project-image-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.project-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-position: center; /* Centers the image */\r\n  transition: transform 0.3s ease;\r\n  object-fit: cover;\r\n}\r\n\r\n.project-status-badge {\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  z-index: 2;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 50px;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.project-card.planning .project-status-badge {\r\n  color: #d35400;\r\n}\r\n\r\n.project-card.in-progress .project-status-badge {\r\n  color: #2980b9;\r\n}\r\n\r\n.project-card.completed .project-status-badge {\r\n  color: #27ae60;\r\n}\r\n\r\n.project-card.on-hold .project-status-badge {\r\n  color: #7f8c8d;\r\n}\r\n\r\n.project-actions {\r\n  position: absolute;\r\n  top: 1rem;\r\n  left: 1rem;\r\n  z-index: 2;\r\n}\r\n\r\n.delete-btn {\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.2s ease;\r\n  color: #e74c3c;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background: #e74c3c;\r\n  color: white;\r\n}\r\n\r\n.delete-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.card-body {\r\n  padding: 1.5rem;\r\n  flex: 1;\r\n}\r\n\r\n.owner-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.owner-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.owner-name {\r\n  font-weight: 500;\r\n  color: #4a5568;\r\n}\r\n\r\n.project-name {\r\n  margin: 0 0 0.75rem;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.project-description {\r\n  margin: 0 0 1.5rem;\r\n  color: #4a5568;\r\n  font-size: 0.95rem;\r\n  line-height: 1.5;\r\n}\r\n\r\n.project-tech {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.tech-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.tech-tag {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 50px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.tech-more {\r\n  font-size: 0.8rem;\r\n  color: #718096;\r\n}\r\n\r\n.project-stats {\r\n  display: flex;\r\n  gap: 1.5rem;\r\n  margin-top: auto;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.stat-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #718096;\r\n}\r\n\r\n.card-footer {\r\n  padding: 1rem 1.5rem;\r\n  border-top: 1px solid #e2e8f0;\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  padding: 0.75rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.action-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.action-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n.like-btn {\r\n  background-color: #f0fdf4;\r\n  color: #16a34a;\r\n}\r\n\r\n.like-btn.liked {\r\n  background-color: #dcfce7;\r\n  color: #166534;\r\n}\r\n\r\n.like-btn:hover {\r\n  background-color: #dcfce7;\r\n}\r\n\r\n.view-btn {\r\n  background-color: #e0f2fe;\r\n  color: #0369a1;\r\n}\r\n\r\n.view-btn:hover {\r\n  background-color: #bae6fd;\r\n}\r\n\r\n/* Projects List View */\r\n.projects-list {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.list-header {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 1rem 1.5rem;\r\n  background-color: #f8fafc;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n}\r\n\r\n.list-item {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 1rem 1.5rem;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.list-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.list-item:hover {\r\n  background-color: #f8fafc;\r\n}\r\n\r\n.list-cell {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.project-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.project-image-wrapper\r\n {\r\n  width: 80px;\r\n  height: 45px;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n\r\n.project-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.project-details {\r\n  flex: 1;\r\n}\r\n\r\n.project-name {\r\n  margin: 0 0 0.25rem;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.project-description {\r\n  margin: 0;\r\n  color: #718096;\r\n  font-size: 0.85rem;\r\n  line-height: 1.4;\r\n}\r\n\r\n.owner-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.owner-avatar {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.owner-name {\r\n  font-size: 0.9rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.technologies {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.tech-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.tech-tag {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.75rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.tech-more {\r\n  font-size: 0.75rem;\r\n  color: #718096;\r\n}\r\n\r\n.status {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.status-badge {\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 50px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-badge.planning {\r\n  background-color: #fef3e6;\r\n  color: #d35400;\r\n}\r\n\r\n.status-badge.in-progress {\r\n  background-color: #e1f0fe;\r\n  color: #2980b9;\r\n}\r\n\r\n.status-badge.completed {\r\n  background-color: #e6f7ed;\r\n  color: #27ae60;\r\n}\r\n\r\n.status-badge.on-hold {\r\n  background-color: #f0f2f3;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.stats {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.stat-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #718096;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.actions .action-btn {\r\n  width: 36px;\r\n  height: 36px;\r\n  padding: 0;\r\n  border-radius: 50%;\r\n}\r\n\r\n/* Loading State */\r\n.loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 3rem;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 5px solid #e2e8f0;\r\n  border-top-color: #1976d2;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.loading-container span {\r\n  color: #4a5568;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Empty State */\r\n.empty-state {\r\n  background: white;\r\n  padding: 3rem 2rem;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid #e0ecff;\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 3rem;\r\n  margin-bottom: 1rem;\r\n  opacity: 0.7;\r\n  color: #1976d2;\r\n}\r\n\r\n.empty-state h3 {\r\n  margin: 0 0 0.5rem;\r\n  color: #2c3e50;\r\n}\r\n\r\n.empty-state p {\r\n  margin: 0 0 1.5rem;\r\n  color: #718096;\r\n}\r\n\r\n/* Load More */\r\n.load-more {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.btn {\r\n  padding: 0.75rem 1.5rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.primary-btn {\r\n  background: linear-gradient(135deg, #1976d2, #2196f3);\r\n  color: white;\r\n}\r\n\r\n.primary-btn:hover {\r\n  background: linear-gradient(135deg, #1565c0, #1976d2);\r\n}\r\n\r\n/* Modal */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 2rem;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.modal-content h3 {\r\n  margin-top: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.modal-content p {\r\n  margin: 1rem 0 2rem;\r\n  color: #4a5568;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n}\r\n\r\n.cancel-btn {\r\n  background: #f1f5f9;\r\n  color: #4a5568;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background: #e2e8f0;\r\n}\r\n\r\n.delete-confirm-btn {\r\n  background: #e74c3c;\r\n  color: white;\r\n}\r\n\r\n.delete-confirm-btn:hover {\r\n  background: #c0392b;\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 1200px) {\r\n  .projects-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  }\r\n  \r\n  .list-header, .list-item {\r\n    grid-template-columns: 2fr 1fr 1fr 1fr 1fr;\r\n  }\r\n  \r\n  .list-header div:nth-child(3),\r\n  .list-item div:nth-child(3) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n@media (max-width: 992px) {\r\n  .filters-container {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .filter-group {\r\n    width: 100%;\r\n  }\r\n  \r\n  .view-toggle {\r\n    margin-left: 0;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .header-content {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n  \r\n  .header-stats {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .stat-card {\r\n    flex: 1;\r\n    min-width: auto;\r\n  }\r\n  \r\n  .projects-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .list-header, .list-item {\r\n    grid-template-columns: 2fr 1fr 1fr;\r\n  }\r\n  \r\n  .list-header div:nth-child(4),\r\n  .list-header div:nth-child(5),\r\n  .list-item div:nth-child(4),\r\n  .list-item div:nth-child(5) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n@media (max-width: 576px) {\r\n  .list-header, .list-item {\r\n    grid-template-columns: 2fr 1fr;\r\n  }\r\n  \r\n  .list-header div:nth-child(2),\r\n  .list-item div:nth-child(2) {\r\n    display: none;\r\n  }\r\n  \r\n  .project-info {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .project-image-wrapper-card {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n.project-image-wrapper-card {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n.project-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover; /* This ensures the image covers the area while maintaining aspect ratio */\r\n  object-position: center; /* Center the image within the container */\r\n  transition: transform 0.3s ease; /* Add smooth zoom effect on hover */\r\n}\r\n\r\n.project-card:hover .project-image {\r\n  transform: scale(1.05); /* Slight zoom effect on hover */\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}